# Splitout Code Automation Webhook
## üöÄ What It Does
Moves data between apps and a **database/spreadsheet**, with logic and optional AI steps.

## üíº Business Use Case
Use as a **glue/API broker**: receive data, enrich/validate via APIs, and pass to downstream systems.

## ‚öôÔ∏è How It Works
1. **Trigger:** This workflow starts with **On form submission**.
2. **On form submission** `formTrigger` ‚Äî options: "[object Object]", formTitle: "Leads Search", formFields: "[object Object]"
3. **Google Sheets Trigger** `googleSheetsTrigger` ‚Äî event: "rowAdded", options: "[object Object]", pollTimes: "[object Object]"
4. **Google Sheets Trigger2** `googleSheetsTrigger` ‚Äî event: "rowAdded", options: "[object Object]", pollTimes: "[object Object]"
5. **Sticky Note** `stickyNote` ‚Äî color: "3", width: "1260", height: "300"
6. **Sticky Note1** `stickyNote` ‚Äî width: "1260", height: "300", content: "## Scrape Leads from Apollo
"
7. **Sticky Note2** `stickyNote` ‚Äî color: "5", width: "1700", height: "360"
8. **Sticky Note3** `stickyNote` ‚Äî color: "5", width: "800", height: "360"
9. **Schedule Trigger** `scheduleTrigger` ‚Äî rule: "[object Object]"
10. **Google Sheets Trigger3** `googleSheetsTrigger` ‚Äî event: "rowAdded", options: "[object Object]", pollTimes: "[object Object]"
11. **Sticky Note4** `stickyNote` ‚Äî color: "6", width: "1920", height: "360"
12. **Google Sheets Trigger4** `googleSheetsTrigger` ‚Äî event: "rowAdded", options: "[object Object]", pollTimes: "[object Object]"
13. **Sticky Note5** `stickyNote` ‚Äî color: "7", width: "1920", height: "360"
14. **Sticky Note6** `stickyNote` ‚Äî color: "4", width: "800", height: "360"
15. **Google Sheets Trigger5** `googleSheetsTrigger` ‚Äî event: "rowAdded", options: "[object Object]", pollTimes: "[object Object]"
16. **Sticky Note8** `stickyNote` ‚Äî color: "6", width: "800", height: "360"
17. **Schedule Trigger2** `scheduleTrigger` ‚Äî rule: "[object Object]"
18. **Sticky Note9** `stickyNote` ‚Äî color: "7", width: "800", height: "360"
19. **Schedule Trigger3** `scheduleTrigger` ‚Äî rule: "[object Object]"
20. **Google Sheets Trigger6** `googleSheetsTrigger` ‚Äî event: "rowAdded", options: "[object Object]", pollTimes: "[object Object]"
21. **Sticky Note7** `stickyNote` ‚Äî color: "3", width: "2040", height: "820"
22. **Generate Leads with Apollo.io** `httpRequest` ‚Äî method: **POST**, url: `https://api.apollo.io/api/v1/mixed_people/search`
23. **Get Pending Username Row** `googleSheets` ‚Äî options: "[object Object]", filtersUI: "[object Object]", sheetName: "[object Object]"
24. **Get Pending Email Statuses** `googleSheets` ‚Äî options: "[object Object]", filtersUI: "[object Object]", sheetName: "[object Object]"
25. **get invalid email rows** `googleSheets` ‚Äî options: "[object Object]", filtersUI: "[object Object]", sheetName: "[object Object]"
26. **Get Pending About and Posts Rows** `googleSheets` ‚Äî options: "[object Object]", filtersUI: "[object Object]", sheetName: "[object Object]"
27. **Get Pending About and Posts Rows1** `googleSheets` ‚Äî options: "[object Object]", filtersUI: "[object Object]", sheetName: "[object Object]"
28. **Get Completely Enriched Profiles** `googleSheets` ‚Äî options: "[object Object]", filtersUI: "[object Object]", sheetName: "[object Object]"
29. **get_failed_profile_summary_rows** `googleSheets` ‚Äî options: "[object Object]", filtersUI: "[object Object]", sheetName: "[object Object]"
30. **get_failed_posts_summary_rows1** `googleSheets` ‚Äî options: "[object Object]", filtersUI: "[object Object]", sheetName: "[object Object]"
31. **Get Pending About and Posts Rows2** `googleSheets` ‚Äî options: "[object Object]", filtersUI: "[object Object]", sheetName: "[object Object]"
32. **Split Out** `splitOut` ‚Äî options: "[object Object]", fieldToSplitOut: "people"
33. **OpenAI1** `openAi` ‚Äî modelId: "[object Object]", options: "[object Object]", messages: "[object Object]"
34. **Get Email from Apollo** `httpRequest` ‚Äî method: **POST**, url: `https://api.apollo.io/api/v1/people/match`
35. **update_to_pending** `googleSheets` ‚Äî operation: **update**
36. **Get About Profile** `httpRequest` ‚Äî url: `https://linkedin-data-api.p.rapidapi.com`
37. **Get Profile Posts** `httpRequest` ‚Äî url: `https://linkedin-data-api.p.rapidapi.com/get-profile-posts`
38. **Append to Enriched Leads Database** `googleSheets` ‚Äî operation: **appendOrUpdate**
39. **update_to_pending1** `googleSheets` ‚Äî operation: **update**
40. **update_to_unscraped** `googleSheets` ‚Äî operation: **update**
41. **Get About Profile2** `httpRequest` ‚Äî url: `"apify-actor-endpoint"`
42. **Clean Data** `set` ‚Äî options: "[object Object]", assignments: "[object Object]"
43. **Add Linkedin Username** `googleSheets` ‚Äî operation: **update**
44. **Confirm Email Validity** `httpRequest` ‚Äî url: `=https://api.mails.so/v1/validate?email={{ $json.person.email }}`
45. **Clean Profile Data** `code` ‚Äî jsCode: "return [{
  summary: $input.first().json.summary,
  headline: $input.first().json.headline,
  nationality: $input.first().json.geo.country,
  languaage: $input.first().json.languag‚Ä¶[truncated]"
46. **Clean Posts Data** `code` ‚Äî jsCode: "const data = $input.first().json.data || [];

function getText(post, reshared = false) {
  if (!post) return "";
  return reshared ? (post.resharedPost?.text || "") : (post.text ||‚Ä¶[truncated]"
47. **Clean Profile Data1** `code` ‚Äî jsCode: "// Safe LinkedIn profile details scraper for n8n
const profileData = {};
const input = $input.first() && $input.first().json ? $input.first().json : {};

// Basic profile informati‚Ä¶[truncated]"
48. **Clean Profile Data2** `code` ‚Äî jsCode: "// n8n function to extract LinkedIn posts
const items = [];

// Check if input exists and has updates
if (!$input.first() || !$input.first().json || !$input.first().json.updates ||‚Ä¶[truncated]"
49. **update status to failed1** `googleSheets` ‚Äî operation: **update**
50. **Add Leads to Google Sheet** `googleSheets` ‚Äî operation: **append**
51. **If email is valid** `if` ‚Äî options: "[object Object]", conditions: "[object Object]", looseTypeValidation: "true"
52. **Stringify Profile Data1** `code` ‚Äî jsCode: "const profile = items[0].json;

return [{
  json: {
    profileString: JSON.stringify(profile, null, 2) // Pretty print with 2-space indentation
  }
}];"
53. **update status to failed** `googleSheets` ‚Äî operation: **update**
54. **Stringify Posts Data** `code` ‚Äî jsCode: "const profile = items[0].json;

return [{
  json: {
    postsString: JSON.stringify(profile, null, 2) // Pretty print with 2-space indentation
  }
}];"
55. **Google Sheets** `googleSheets` ‚Äî operation: **update**
56. **Stringify Data2** `code` ‚Äî jsCode: "const profile = items[0].json;

return [{
  json: {
    profileString: JSON.stringify(profile, null, 2) // Pretty print with 2-space indentation
  }
}];"
57. **Stringify Data3** `code` ‚Äî jsCode: "const profile = items[0].json;

return [{
  json: {
    postsString: JSON.stringify(profile, null, 2) // Pretty print with 2-space indentation
  }
}];"
58. **Add Email Address** `googleSheets` ‚Äî operation: **update**
59. **Mark Invalid Email** `googleSheets` ‚Äî operation: **update**
60. **AI Profile Summarizer** `openAi` ‚Äî modelId: "[object Object]", options: "[object Object]", messages: "[object Object]"
61. **Posts AI Summarizer** `openAi` ‚Äî modelId: "[object Object]", options: "[object Object]", messages: "[object Object]"
62. **AI Profile Summarizer1** `openAi` ‚Äî modelId: "[object Object]", options: "[object Object]", messages: "[object Object]"
63. **Posts AI Summarizer1** `openAi` ‚Äî modelId: "[object Object]", options: "[object Object]", messages: "[object Object]"
64. **Update Profile Summary** `googleSheets` ‚Äî operation: **update**
65. **Update Posts Summary** `googleSheets` ‚Äî operation: **update**
66. **Merge** `merge` ‚Äî mode: "combine", options: "[object Object]", combineBy: "combineAll"
67. **Update Profile Summary1** `googleSheets` ‚Äî operation: **update**

## üí° AI-Powered Ideas for Improvement
**Explain:**  
This n8n workflow automates the process of collecting, verifying, enriching, and storing LinkedIn lead data. It begins with a form submission to capture lead criteria, then scrapes data from Apollo.io for matching leads. The workflow processes and cleans this data, checks email validity, and enriches LinkedIn profiles with additional information like posts and summaries. This enriched data is then stored in Google Sheets for further use.

**Demonstrate:**  
A sales team could use this workflow to automatically gather and verify LinkedIn profiles of potential leads, ensuring they have accurate contact information and up-to-date profile summaries for outreach.

**Imitate:**  
1. Import the workflow into n8n.
2. Connect your accounts for Google Sheets, Apollo.io, and OpenAI.
3. Configure the form to capture lead criteria.
4. Test the workflow with sample data to verify it fetches, verifies, and enriches lead information correctly.
5. Adjust settings as needed for your specific use case.

**Practice:**  
Create a test form to submit lead criteria and observe how the workflow processes this information, scrapes data, verifies emails, and enriches profiles. Try using different lead criteria to see how the workflow adapts.

**WIIFM (What's In It For Me):**  
Mastering this workflow allows you to offer automated lead generation and enrichment services, enhancing sales processes for clients. This can increase your service offerings, improve lead quality, and potentially lead to higher income from automation services.

## üîß Setup Instructions
1. **Connect Credentials:** googleSheetsTriggerOAuth2Api, openAiApi, googleSheetsOAuth2Api.
2. **Data Mapping:** Verify base/sheet IDs and column names match exactly to prevent silent failures.
3. **API Contracts:** Validate required headers and 2xx/4xx handling; add retries for 429/5xx.

### ‚ö†Ô∏è Automation Ain‚Äôt the Same Anymore

Most builders out here are stuck doing $500 workflows and calling it a win.  
That‚Äôs not the move.  

I'm closing $6k‚Äì$13k deals by stacking simple automations with lightweight AI...  
and it takes me under 2 hours to build most of them.

#### üß† Examples From My Own Playbook:
- üîÅ Turned a recurring invoice workflow into a $6,000 retainer that saved 20 hours/week  
- ‚öñÔ∏è Built an AI-powered lead gen engine for law firms ‚Äî they paid $13,000 happily  
- üöÄ Launched an SEO agent that outperforms funded companies ‚Äî using free OpenAI credits  

**Want to learn how to do the same?**  
Inside [Digital Boss Code](https://bigpoppacode.io/go/dbc), I break it all down:

‚úÖ The exact AI components that 3x your pricing overnight  
‚úÖ My $15k Automation Framework using n8n + LangChain  
‚úÖ Word-for-word scripts to close high-ticket deals  
‚úÖ Real client case studies with templates  
‚úÖ How to stop looking like a tech VA and start moving like a Solution Architect  

üî• Get started at ‚Üí [bigpoppacode.io/go/dbc](https://bigpoppacode.io/go/dbc)  
Limited time access, early birds get the best bonuses.

---
> Built by [Big Poppa Code](https://bigpoppacode.io) ‚Äì architecting automations that scale people, profits, and purpose.
